angular.module("ng.httpLoader",["ng.httpLoader.httpMethodInterceptor"]).directive("ngHttpLoader",["$rootScope","$parse",function(a,b){return{scope:{methods:"@",template:"@",title:"@"},template:'<div ng-include="template" ng-show="showLoader"></div>',link:function(c){var d=b(c.methods)()||c.methods;d=void 0===d?[]:d,d=_.isArray(d)?d:[d],d=_.map(d,function(a){return a.toUpperCase()}),c.showLoader=!1;var e=function(a,b){-1!==_.indexOf(d,b.toUpperCase())?c.showLoader="loaderShow"===a.name:_.isEmpty(d)&&(c.showLoader="loaderShow"===a.name)};a.$on("loaderShow",e),a.$on("loaderHide",e)}}}]),angular.module("ng.httpLoader.httpMethodInterceptor",[]).provider("httpMethodInterceptor",function(){var a=[];this.whitelistDomain=function(b){a.push(b)},this.$get=["$q","$rootScope",function(b,c){var d=0,e=function(b){return _.any(a,function(a){return _.contains(b,a)})},f=function(a){e(a.url)&&0===--d&&c.$emit("loaderHide",a.method)};return{request:function(a){return e(a.url)&&(d++,c.$emit("loaderShow",a.method)),a||b.when(a)},response:function(a){return f(a.config),a||b.when(a)},responseError:function(a){return f(a.config),b.reject(a)}}}]}).config(["$httpProvider",function(a){a.interceptors.push("httpMethodInterceptor")}]);